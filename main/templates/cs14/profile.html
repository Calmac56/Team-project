{% extends 'cs14/base.html' %}
{% load static %}
{% block head_block %}
{% endblock %}

{% block title_block %}
{{ user }} Profile
{% endblock %}

{% block title2_block %}
Welcome {{ user.first_name }} 
{% endblock %}

{% block body_block %}

<style>
	.profile-pic{
		max-width: 100%;
		max-height:	100%;
		border-radius: 50%;
		display: block;
		margin-left: auto;
		margin-right: auto;
	}
	.center {
		text-align: center;
	}
</style>

<div class="row">
	<div class="col-md">
		<div class="content" >	
			<h3 style="text-align: center">{{ user }} Profile</h3>
			<hr>
			<div>
				{% if user.profile.profile_pic %}
				<img class="profile-pic" src="{{ user.profile.profile_pic.url }}" width="240" >
				{% endif %}
			</div>
			<br>
			<div class="center">
				<h3>Username: {{ user }}</h3>
				<h3>First name: {{ user.first_name }}</h3>
				<h3>Last name: {{ user.last_name }}</h3>
				<h3>Email: {{ user.email}}</h3>
			</div>
			<hr>
			{% if tasks != None %}
				{% for key, values in tasks.items %}
					<div class="taskContainer" style="text-align: center">
						<p style="color: black !important; font-weight: bold !important;">{{key.taskID.name}}</p>
						<p style="color: black !important; font-weight: bold !important;">Time to complete task - {{values}} Minutes</p>
						

						{% if key.taskID.taskID in results %}
						<p style="font-weight: bolder !important; color: darkgreen !important;">Task completed</p>
						{% else %}
							<a class="navLink" href="{% url 'cs14:code' key.taskID.taskID %}">Go to Task</a>
						{% endif %}
        			</div>
					<hr>
					
				{% endfor %}
			{% else %}
				<h2>You have no coding tasks to complete.</h2>
			{% endif %}
		</div>
	</div>
</div>

{% endblock %}