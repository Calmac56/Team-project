{% extends 'cs14/base.html' %}
{% load static %}
{% block head_block %}
{% endblock %}
{% block title_block %}
    Profile
{% endblock %}

{% block title2_block %}
    {{ user }}
{% endblock %}

{% block body_block %}

<style>
	.profile-pic{
		max-width: 100%;
		max-height:	100%;
		border-radius: 50%;
		position: static;
	}
</style>

<br>
<div class="row">
	<div class="col-md-2">
		<div class ="card card-body">
			<a class="btn btn-warning" href="{% url 'cs14:index'%}"> &#8592; Back to home</a>
			<hr>
			<h3 style="text-align: center">User profile</h3>
			<hr>
			<div>
				{% if user.profile.profile_pic %}
				<img class="profile-pic" src="{{ user.profile.profile_pic.url }}" width="240" style="text-align: center">
				{% endif %}
			</div>
		</div>
	</div>
	<div class="col-md-9">
		<div class="card card-body">
			<h3>Username: {{ user }}</h3>
			<h3>First name: {{ user.first_name }}</h3>
			<h3>Last name: {{ user.last_name }}</h3>
			<h3>Email: {{ user.email}}</h3>
			{% if tasks != None %}
				{% for task in tasks %}
					<div class="taskContainer">
						<p>{{task.description}}</p>
						{% if task.taskID in results %}
						Task completed
						{% else %}
						<a class="navLink" href="{% url 'cs14:code' task.taskID %}">Go to Task</a>
						{% endif %}
        			</div>
					<hr>
					
				{% endfor %}
			{% else %}
				<h2>You have no coding tasks to complete.</h2>
			{% endif %}
		</div>
	</div>
</div>

{% endblock %}