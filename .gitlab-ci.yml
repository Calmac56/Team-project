image: docker

services:
    - name: docker:dind
      entrypoint: ["env", "-u", "DOCKER_HOST"]
      command: ["dockerd-entrypoint.sh"]
  variables:
    DOCKER_HOST: tcp://docker:2375/
    DOCKER_DRIVER: overlay2
    # See https://github.com/docker-library/docker/pull/166
    DOCKER_TLS_CERTDIR: ""
  
build:
  stage: build
  tags:
    - docker
  before_script:
    - docker pull unbuntu
    - apt-get install  python3 -y 
    - apt-get install python3-pip -y
    - pip3 install -r requirements.txt
    - python --version
    
   
  script:
      - cd main
      - python manage.py test cs14.tests
      - python manage.py test cs14.reviewtests
     


